# 데이터베이스

- 데이터베이스는 일정한 규칙, 혹은 규약을 통해 구조화되어 저장되는 데이터의 모음입니다. 해당 데이터베이스를 제어, 관리하는 통합 시스템을 DBMS라고 하며 데이터베이스 안에 있는 데이터들은 특정 DBMS마다 정의된 쿼리언어를 통해 삽입, 삭제, 수정 조회등을 수행할 수 있습니다
  데이터베이스는 실시간 접근과 동시 공유가 가능합니다

# SQL (관계형 DB)

- SQL을 사용하면 RDBMS에서 데이터를 저장,수정,삭제 및 검색 할 수 있음
- 관계형 데이터베이스에는 핵심적인 두 가지 특징이 있다.
- 데이터는 정해진 데이터 스키마에 따라 테이블에 저장된다
- 데이터는 관계를 통해 여러 테이블에 분산된다.
- 데이터는 테이블에 레코드로 저장이 되는데, 각 테이블마다 명확하게 정의된 구조가 있다.
- 스키마를 준수하지 않은 레코드는 테이블에 추가 할수 없다

# NoSQL (비관계형 DB)

- 스키마도 없고 관계도 없다.
- NoSQL 에서는 레코드를 문서라고 부른다
- 문서는 Json 과 비슷한 형태로 가지고 있다. 관계형 데이터베이스처럼 여러 테이블에 나누어담지 않고, 관련 데이터를 동일한 '컬렉션'에 넣는다
- 조인을 하고 싶을때? : 컬렉션을 통해 데이터를 복제하여 각 컬렉션 일부분에 속하는 데이터를 정확하게 산출하도록 한다.

# RDBMS와 NoSQL의 차이

- RDBMS는 정해진 스키마가 존재하고, NoSQL은 정해진 스키마가 없다는 것이 큰 차이임
- NoSQL은 정해진 스카마가 없을 때 데이터 구조 변화가 자유롭고 데이터 분산이 용이하지만,
  데이터 중복이 발생하거나 데이터 변경 시에 연산이 오래 걸리는 단점이 있음

# DB 인덱스 사용시 장점

- DB의 인덱스를 잘 사용하는 것은 데이터를 검색하는 시점에 성능 차이에 큰 영향을 미침.
  대용량 데이터를 담고 있는 DB 테이블에서 필요한 데이터를 빨리 찾기 위해 인덱스가 필요함

# 엔터티

- 엔터티는 사람,장소,물건,사건,개념 등 여러 개의 속성을 지닌 명사를 의미합니다.
- 약한 엔터티와 강한 엔터티 A,B가 있다고 치고 A가 혼자서는 존재하지 못하고 B의 존재 여부에 따라 종속적이라면 A는 약한엔터티이고 B는 강한 엔터티가 됩니다.

# 릴레이션

- 릴레이션은 데이터베이스에서 정보를 구분하여 저장하는 기본 단위입니다.
  관계형데이터베이스에서는 '테이블' NoSQL데이터베이스에서는 '컬렉션'이라고 합니다.

# 속성

속성은 릴레이션에서 관리하는 구체적이며 고유한 이름을 갖는 정보
엔터티: 차 속성: 차 넘버, 바퀴 수, 차 색깔, 차종

# 도메인

도메인이란 릴레이션에 포함된 각각의 속성들이 가질 수 있는 값의 집합 성별: [남,녀]

# 관계

데이터베이스에 테이블은 하나만 있는 것이 아닙니다. 여러 개의 테이블이 있고 이러한 테이블은 서로의 관계가 정의되어 있습니다.
1:1 관계 유저-유저이메일
1:N 한 유저 - 여러 개의 상품
N:M 학생 - 강의

# 키

- 기본키: Primary key는 줄여 프라이머리키라고 부르며 유일성과 최소성을 만족하는 키
- 자연키: 중복된 값들을 제외하며 중복되지 않는 것을 자연스레 뽑다가 나오는 키
- 인조키: 인위적으로 유저 아이디를 부여 (이를 통해 고유 식별자가 생겨남)
- 외래키: FK라고도 하며, 다른 테이블의 기본키를 그대로 참조하는 값으로 개체와의 관계를 식별하는데 사용
- 후보키: 기본키가 될 수 있는 후보들이 유일성과 최소성을 동시에 만족하는 키
- 대체키: 후보키가 두 개 이상일 경우 어느 하나를 기본키로 지정하고 남은 후보키들을 말합니다.
- 슈퍼키: 각 레코드를 유일하게 식별할 수 있는 유일성을 갖춘 키

# ERD와 정규화 과정

- ERD는 데이터베이스를 구축할 때 가장 기초적인 뼈대 역할을 하며 릴레이션 간의 관계들을 정의한 것입니다.

- ERD의 중요성 ERD는 시스템의 요구 사항을 기반으로 작성되며 이 EFD를 기반으로 데이터베이스를 구축합니다
  데이터베이스를 구축한 이후에도 디버깅 또는 비즈니스 프로세스 재설계가 필요한 경우에 설계도 역할을 담당하기도 합니다. ERD는 관계형 구조로 표현할 수 있는 데이터를 구성하는데 유용할 수 있지만 비정형 데이터를 충분히 표현할 수 없다는 단점 (비정형 데이터: 비구조화 데이터, 미리 정의된 데이터 모델이 없거나 미리 정의된 방식으로 정리되지 않은 정보)

# 정규화 과정

- 정규화 과정은 릴레이션 간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나서 이를 해결하거나, 저장 공간을 효율적으로 사용하기 위해 릴레이션을 여러 개로 분리 하는 과정입니다.

# 정규화 원칙

- 자료의 중복성은 감소해야 하고, 독립적인 관계는 별개의 릴레이션으로 표현해야 하며, 각각의 릴레이션은 독립적인 표현이 가능해야 하는 것을 말합니다.

# 제1정규형

- 릴레이션의 모든 도메인이 더 이상 분해될 수 없는 우너자 값만으로 구성되어야 합니다.
  릴레이션의 속성 값 중에서 한 개의 기본키에 대해 두 개 이상의 값을 가지는 반복 집합이 있어서는 안된다.

# 제2정규형

- 릴레이션이 제1정규형이며 부분 함수의 종속성을 제거한 형태 (부분 함수의 종속성 제거란 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속적인 것)

# 제3정규형

- 제2정규형이고 기본키가 아닌 모든 속성이 이행적 함수 종속을 만족하지 않는 상태
  (이행적 함수 종속)
  이행적 함수 종속이란 A->B와 B->C가 존재하면 논리적으로 A->C가 성립하는데, 이 때 집합 C가 집합 A에 이행적으로 함수 종속이 되었다고 합니다.

# 보이스/코드 정규형

- 보이스/코드 정규형(BCNF)은 제 3정규형이고, 결정자가 후보키가 아닌 함수 종속 관계를 제거하여 릴레이션의 함수 종속 관계에서 모든 결장자가 후보키인 상태를 말합니다.

# 트랜잭션과 무결성

- 트랜잭션은 데이터베이스에서 하나의 논리적 기능을 수행하기 위한 작업의 단위를 말하며 데이터베이스에 접근하는 방법은 쿼리이므로, 즉 여러 개의 쿼리들을 하나로 묶는 단위를 말합니다.
이에 대한 특징은 원자성, 일관성,독립성,지속성이 있다. 이를 한꺼번에 ACID 특징이라고 합니다

* 원자성: 원자성은 트랜잭션과 관련된 일이 모두 수행되었거나 되지 않았거나를 보장하는 특징

커밋(commit)은 여러 쿼리가 성공적으로 처리되었다고 확정하는 명령어 
커밋이 수행되었다 = 하나의 트랜잭션이 성공적으로 수행되었다.

롤백(rollback)이란 트랜잭션으로 처리한 하나의 묶음 과정을 일어나기 전으로 돌리는 일(취소)을 말합니다.

* 일관성: 일관성은 허용된 방식으로만 데이터를 변경해야 하는 것을 의미합니다.

* 격리성: 트랜잭션 수행시 서로 끼어들지 못하는 것을 말합니다.

* 지속성: 성공적으로 수행된 트랜잭션은 영원히 반영되어야 하는 것을 의미합니다.

- 무결성이란 데이터의 정확성, 일관성, 유효성을 유지하는 것을 말하며 무결성이 유지되어야 데이터베이스에 저장된 데이터 값과 그 값에 해당하는 현실 세계의 실제 값이 일치하는지에 대한 신뢰가 생깁니다.

무결성의 종류
- 개체 무결성: 기본키로 선택된 필드는 빈 값을 허용하지 않습니다.
- 참조 무결성: 서로 참조 관계에 있는 두 테이블의 데이터는 항상 일관된 값을 유지해야 합니다.
- 고유 무결성: 특정 속성에 대해 고유한 값을 가지도록 조건이 주어진 경우 그 속성 값은 모두 고유한 값을 가집니다.
- NULL 무결성: 특정 속성 값에 NULL이 올 수 없다는 조건이 주어진 경우 그 속성 값은 NULL이 될 수 없다는 제약 조건입니다.

